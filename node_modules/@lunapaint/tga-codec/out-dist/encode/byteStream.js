"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ByteStream = void 0;
class ByteStream {
    constructor(length, _le) {
        this._le = _le;
        this.offset = 0;
        this.array = new Uint8Array(length);
        this.view = new DataView(this.array.buffer, this.array.byteOffset, this.array.byteLength);
    }
    writeUint8(value) {
        this.view.setUint8(this.offset, value);
        this.offset += 1;
    }
    writeUint16(value) {
        this.view.setUint16(this.offset, value, this._le);
        this.offset += 2;
    }
    assertAtEnd() {
        if (this.offset !== this.array.length) {
            throw new Error('Writing finished before expected length of stream');
        }
    }
}
exports.ByteStream = ByteStream;
